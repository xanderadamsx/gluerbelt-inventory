<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Menasha PHL Equipment Hub</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1, h2, h3 { color: #2c3e50; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    th { background-color: #f4f4f4; }
    nav ul { list-style: none; padding: 0; display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 30px; }
    nav a { text-decoration: none; color: #2980b9; font-weight: bold; }
    #searchBar { width: 70%; padding: 10px; font-size: 16px; border: 1px solid #ccc; }
    #searchButton { padding: 10px 20px; font-size: 16px; margin-left: 10px; background-color: #2980b9; color: white; border: none; cursor: pointer; }
    #searchButton:hover { background-color: #1f6391; }
    mark { background-color: yellow; font-weight: bold; }
    #loginScreen { max-width: 400px; margin: 100px auto; padding: 20px; border: 1px solid #ccc; background-color: #f9f9f9; }
    #appContent { display: none; }
  </style>
</head>
<body>

<!-- LOGIN SCREEN -->
<div id="loginScreen">
  <h2>ğŸ” Login to Menasha Hub</h2>
  <input type="text" id="username" placeholder="Username"><br><br>
  <input type="password" id="password" placeholder="Password"><br><br>
  <button onclick="checkLogin()">Login</button>
  <p id="loginError" style="color:red;"></p>
</div>

<!-- MAIN APP -->
<div id="appContent">
  <h1>ğŸ› ï¸ Menasha PHL Equipment Hub</h1>
  <p>Centralized reference for all plant assets, belt usage, schematics, and maintenance tracking.</p>

  <input type="text" id="searchBar" placeholder="Search equipment, serials, notes...">
  <button id="searchButton" onclick="runSearch()">Search</button>

  <nav>
    <ul>
      <li><a href="#floor-assets">ğŸ“ Floor Assets</a></li>
      <li><a href="#serial-log">ğŸ§¾ Serial Log</a></li>
      <li><a href="#blueprints">ğŸ“‚ Blueprints</a></li>
      <li><a href="belts.html" target="_blank">ğŸ§µ Belt Inventory</a></li>
      <li><a href="maintenance-log.html" target="_blank">ğŸ§° Maintenance Log</a></li>
      <li><a href="schematics.html" target="_blank">ğŸ“ Schematics</a></li>
      <li><a href="training.html" target="_blank">ğŸ“ Training & SOPs</a></li>
    </ul>
  </nav>

  <h2 id="floor-assets">ğŸ“ Equipment by Location</h2>
  <table>
    <tr><th>Asset</th><th>Tool Type</th><th>Notes</th></tr>
    <tr><td>5-Color & 7-Color Presses</td><td>Standard</td><td>Access Code: 42883</td></tr>
    <tr><td>2000</td><td>Metric</td><td></td></tr>
    <tr><td>Master Cut</td><td>Metric</td><td></td></tr>
    <tr><td>Pacific</td><td>Metric</td><td>Mosca Code: 44711</td></tr>
    <tr><td>Asitrade KP-PH</td><td>Metric</td><td>Serial: 2010-111, Built 2010</td></tr>
    <tr><td>Asitrade ABST</td><td>Metric</td><td>Serial: 200100111, Built 2010</td></tr>
    <tr><td>Pallet Wrap Station</td><td>Standard</td><td></td></tr>
    <tr><td>Mainline Conveyor System</td><td>Mixed</td><td></td></tr>
    <tr><td>Back Rails & Conveyor System</td><td>Mixed</td><td></td></tr>
    <tr><td>Baler</td><td>Standard</td><td>Bale Master</td></tr>
    <tr><td>Bander (back side)</td><td>Metric</td><td></td></tr>
  </table>

  <h2 id="serial-log">ğŸ§¾ Equipment Serial Log</h2>
  <table>
    <tr><th>Serial</th><th>Type</th><th>Model</th><th>Blueprint</th><th>Notes</th></tr>
    <tr><td>2010-111</td><td>Feeder Module</td><td>KP-PH</td><td><a href="#">Placeholder</a></td><td>Asitrade, Built 2010</td></tr>
    <tr><td>200100111</td><td>Feeder Module</td><td>ABST</td><td><a href="#">Placeholder</a></td><td>Asitrade, Built 2010</td></tr>
    <tr><td>DRF600</td><td>Conveyor System</td><td>ACS BP6306-B-1</td><td><a href="#">Placeholder</a></td><td>460V 3PH, Built 2002</td></tr>
    <tr><td>0351 005 04</td><td>Industrial Printer</td><td>Domino 165 Matic</td><td><a href="#">Placeholder</a></td><td>240V AC, Single Phase</td></tr>
  </table>

  <h2 id="blueprints">ğŸ“‚ Equipment Blueprints</h2>
  <table>
    <tr><th>Machine</th><th>Serial Number</th><th>Blueprint Link</th></tr>
    <tr><td>Expertfold 1</td><td>BSA03542000061</td><td><a href="#">Placeholder</a></td></tr>
    <tr><td>Expertfold 2</td><td>BSA052F3001247</td><td><a href="#">Placeholder</a></td></tr>
    <tr><td>Domino 165 Matic</td><td>0351 005 04</td><td><a href="#">Placeholder</a></td></tr>
  </table>
</div>

<script>
  // LOGIN FUNCTION
  function checkLogin() {
    const user = document.getElementById("username").value;
    const pass = document.getElementById("password").value;

    if (user === "maintenance" && pass === "password") {
      document.getElementById("loginScreen").style.display = "none";
      document.getElementById("appContent").style.display = "block";
    } else {
      document.getElementById("loginError").textContent = "Invalid credentials. Try again.";
    }
  }

  // CLEAN SEARCH FUNCTION
  function runSearch() {
    const query = document.getElementById('searchBar').value.toLowerCase();
    const tables = document.querySelectorAll('table');

    tables.forEach(table => {
      const rows = table.querySelectorAll('tr');

      rows.forEach((row, index) => {
        const cells = row.querySelectorAll('td');

        // Skip header row
        if (index === 0) {
          row.style.display = '';
          return;
        }

        let matchFound = false;

        cells.forEach(cell => {
          const originalText = cell.textContent; // always clean
          cell.innerHTML = originalText; // reset

          if (query !== '' && originalText.toLowerCase().includes(query)) {
            matchFound = true;
            const regex = new RegExp(`(${query})`, 'gi');
            cell.innerHTML = originalText.replace(regex, '<mark>$1</mark>');
          }
        });

        row.style.display = matchFound || query === '' ? '' : 'none';
      });
    });
  }

  // ENTER KEY SUPPORT
  document.addEventListener("DOMContentLoaded", () => {
    const searchBar = document.getElementById('searchBar');
    searchBar.addEventListener('keydown', function (event) {
      if (event.key === 'Enter') {
        runSearch();
      }
    });
  });
</script>

</body>
</html>
